# DataLogger Message Definitions
# Unused legacy RTMA_types were repurposed here

constants:
  MAX_DATA_SETS: 6

struct_defs:
  DATA_SET:
    fields:
        name: char[32]
        save_path: char[128]      # Data set save directory 
        filename: char[128]       # Data set saved file name without the file extension
        formatter: char[32]       # Builtin Options: quicklogger, json, raw, msg_header
        subdivide_interval: int32 # <=0: Single File, >=30: Subdivide recording files
        msg_types: int32[32]      # Message type ids that should be passed to data_set formatter

message_defs:
  DATA_SET_STATUS_REQUEST:
    id: 62
    fields:
      name: char[32]

  DATA_SET_STATUS:
    id: 63
    fields:
      name: char[32]
      timestamp: double
      elapsed_time: double
      is_recording: int32
      is_paused: int32

  DATA_SET_ADD:
    id: 66
    fields:
        data_set: DATA_SET

  DATA_SET_REMOVE:
    id: 67
    fields:
      name: char[32]

  DATA_LOGGER_CONFIG_REQUEST:
    id: 68
    fields: null

  DATA_LOGGER_CONFIG:
    id: 69
    fields:
        num_data_sets: int32
        data_sets: DATA_SET[6]

  DATA_SET_STARTED:
    id: 70
    fields:
      name: char[32]

  DATA_SET_STOPPED:
    id: 71
    fields:
      name: char[32]

  DATA_SET_SAVED:
    id: 72
    fields:
      name: char[32]

  DATA_SET_START:
    id: 73
    fields:
      name: char[32]

  DATA_SET_STOP:
    id: 74
    fields:
      name: char[32]

  DATA_SET_PAUSE:
    id: 75
    fields:
      name: char[32]

  DATA_SET_RESUME:
    id: 76
    fields:
      name: char[32]

  DATA_LOGGER_RESET:
    id: 77
    fields: null

  DATA_LOGGER_ERROR:
    id: 78
    fields:
      msg: char[512]

  DATA_LOG_TEST_2048:
    id: 79
    fields:
      raw: char[2048]

  # TIMING_MESSAGE: 81
  # FORCE_DISCONNECT: 82
  # MM_ERROR: 83
  # MM_INFO: 84
  # PAUSE_SUBSCRIPTION: 85
  # RESUME_SUBSCRIPTION: 86
