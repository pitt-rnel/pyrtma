# DataLogger Message Definitions
# Unused legacy RTMA_types were repurposed here

constants:
  MAX_DATASETS: 6
  DATASET_NAME_LEN: 32

struct_defs:
  DATASET:
    fields:
        name: char[DATASET_NAME_LEN]
        save_path: char[256]      # Dataset save directory 
        filename: char[128]       # Dataset saved file name without the file extension
        formatter: char[32]       # Builtin Options: quicklogger, json, raw, msg_header
        subdivide_interval: int32 # <=0: Single File, >=30: Subdivide recording files
        msg_types: int32[64]      # Message type ids that should be passed to dataset formatter

message_defs:
  DATASET_STATUS_REQUEST:
    id: 62
    fields:
      name: char[DATASET_NAME_LEN]

  DATASET_STATUS:
    id: 63
    fields:
      name: char[DATASET_NAME_LEN]
      timestamp: double
      elapsed_time: double
      is_recording: int32
      is_paused: int32

  DATASET_ADD:
    id: 64
    fields:
        dataset: DATASET

  DATASET_ADDED:
    id: 65
    fields:
      name: char[DATASET_NAME_LEN]

  DATASET_REMOVE:
    id: 66
    fields:
      name: char[DATASET_NAME_LEN]

  DATASET_REMOVED:
    id: 67
    fields:
      name: char[DATASET_NAME_LEN]

  DATA_LOGGER_CONFIG_REQUEST:
    id: 68
    fields: null

  DATA_LOGGER_CONFIG:
    id: 69
    fields:
        num_datasets: int32
        datasets: DATASET[6]

  DATASET_STARTED:
    id: 70
    fields:
      name: char[DATASET_NAME_LEN]

  DATASET_STOPPED:
    id: 71
    fields:
      name: char[DATASET_NAME_LEN]

  DATASET_SAVED:
    id: 72
    fields:
      name: char[DATASET_NAME_LEN]
      filepath: char[1024]

  DATASET_START:
    id: 73
    fields:
      name: char[DATASET_NAME_LEN]

  DATASET_STOP:
    id: 74
    fields:
      name: char[DATASET_NAME_LEN]

  DATASET_PAUSE:
    id: 75
    fields:
      name: char[DATASET_NAME_LEN]

  DATASET_RESUME:
    id: 76
    fields:
      name: char[DATASET_NAME_LEN]

  DATA_LOGGER_RESET:
    id: 77
    fields: null

  DATA_LOGGER_ERROR:
    id: 78
    fields:
      msg: char[512]

  DATA_LOG_TEST_2048:
    id: 79
    fields:
      raw: char[2048]

  # TIMING_MESSAGE: 81
  # FORCE_DISCONNECT: 82
  # MM_ERROR: 83
  # MM_INFO: 84
  # PAUSE_SUBSCRIPTION: 85
  # RESUME_SUBSCRIPTION: 86
